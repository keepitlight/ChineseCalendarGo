package notation

import "testing"

func TestNotation(t *testing.T) {
	notations := [...]Notation{
		甲子,
		乙丑,
		丙寅,
		丁卯,
		戊辰,
		己巳,
		庚午,
		辛未,
		壬申,
		癸酉,
		甲戌,
		乙亥,
		丙子,
		丁丑,
		戊寅,
		己卯,
		庚辰,
		辛巳,
		壬午,
		癸未,
		甲申,
		乙酉,
		丙戌,
		丁亥,
		戊子,
		己丑,
		庚寅,
		辛卯,
		壬辰,
		癸巳,
		甲午,
		乙未,
		丙申,
		丁酉,
		戊戌,
		己亥,
		庚子,
		辛丑,
		壬寅,
		癸卯,
		甲辰,
		乙巳,
		丙午,
		丁未,
		戊申,
		己酉,
		庚戌,
		辛亥,
		壬子,
		癸丑,
		甲寅,
		乙卯,
		丙辰,
		丁巳,
		戊午,
		己未,
		庚申,
		辛酉,
		壬戌,
		癸亥,
	}
	for i, n := range notations {
		if i+1 != n.Value() {
			t.Fatalf("Notation %q is %d, expected %d", n.String(), int(n), i+1)
		}
	}
}

func TestOf(t *testing.T) {
	type tc struct {
		value    int
		expected Notation
	}
	for i, c := range []*tc{
		{-60, 甲子},
		{-59, 乙丑},
		{-58, 丙寅},
		{-57, 丁卯},
		{-56, 戊辰},
		{-55, 己巳},
		{-54, 庚午},
		{-53, 辛未},
		{-52, 壬申},
		{-51, 癸酉},
		{-50, 甲戌},
		{-49, 乙亥},
		{-48, 丙子},
		{-47, 丁丑},
		{-46, 戊寅},
		{-45, 己卯},
		{-44, 庚辰},
		{-43, 辛巳},
		{-42, 壬午},
		{-41, 癸未},
		{-40, 甲申},
		{-39, 乙酉},
		{-38, 丙戌},
		{-37, 丁亥},
		{-36, 戊子},
		{-35, 己丑},
		{-34, 庚寅},
		{-33, 辛卯},
		{-32, 壬辰},
		{-31, 癸巳},
		{-30, 甲午},
		{-29, 乙未},
		{-28, 丙申},
		{-27, 丁酉},
		{-26, 戊戌},
		{-25, 己亥},
		{-24, 庚子},
		{-23, 辛丑},
		{-22, 壬寅},
		{-21, 癸卯},
		{-20, 甲辰},
		{-19, 乙巳},
		{-18, 丙午},
		{-17, 丁未},
		{-16, 戊申},
		{-15, 己酉},
		{-14, 庚戌},
		{-13, 辛亥},
		{-12, 壬子},
		{-11, 癸丑},
		{-10, 甲寅},
		{-9, 乙卯},
		{-8, 丙辰},
		{-7, 丁巳},
		{-6, 戊午},
		{-5, 己未},
		{-4, 庚申},
		{-3, 辛酉},
		{-2, 壬戌},
		{-1, 癸亥},
		{1, 甲子},
		{2, 乙丑},
		{3, 丙寅},
		{4, 丁卯},
		{5, 戊辰},
		{6, 己巳},
		{7, 庚午},
		{8, 辛未},
		{9, 壬申},
		{10, 癸酉},
		{11, 甲戌},
		{12, 乙亥},
		{13, 丙子},
		{14, 丁丑},
		{15, 戊寅},
		{16, 己卯},
		{17, 庚辰},
		{18, 辛巳},
		{19, 壬午},
		{20, 癸未},
		{21, 甲申},
		{22, 乙酉},
		{23, 丙戌},
		{24, 丁亥},
		{25, 戊子},
		{26, 己丑},
		{27, 庚寅},
		{28, 辛卯},
		{29, 壬辰},
		{30, 癸巳},
		{31, 甲午},
		{32, 乙未},
		{33, 丙申},
		{34, 丁酉},
		{35, 戊戌},
		{36, 己亥},
		{37, 庚子},
		{38, 辛丑},
		{39, 壬寅},
		{40, 癸卯},
		{41, 甲辰},
		{42, 乙巳},
		{43, 丙午},
		{44, 丁未},
		{45, 戊申},
		{46, 己酉},
		{47, 庚戌},
		{48, 辛亥},
		{49, 壬子},
		{50, 癸丑},
		{51, 甲寅},
		{52, 乙卯},
		{53, 丙辰},
		{54, 丁巳},
		{55, 戊午},
		{56, 己未},
		{57, 庚申},
		{58, 辛酉},
		{59, 壬戌},
		{60, 癸亥},
		{61, 甲子},
		{62, 乙丑},
		{63, 丙寅},
		{64, 丁卯},
		{65, 戊辰},
		{66, 己巳},
		{67, 庚午},
		{68, 辛未},
		{69, 壬申},
		{70, 癸酉},
		{71, 甲戌},
		{72, 乙亥},
		{73, 丙子},
		{74, 丁丑},
		{75, 戊寅},
		{76, 己卯},
		{77, 庚辰},
		{78, 辛巳},
		{79, 壬午},
		{80, 癸未},
		{81, 甲申},
		{82, 乙酉},
		{83, 丙戌},
		{84, 丁亥},
		{85, 戊子},
		{86, 己丑},
		{87, 庚寅},
		{88, 辛卯},
		{89, 壬辰},
		{90, 癸巳},
		{91, 甲午},
		{92, 乙未},
		{93, 丙申},
		{94, 丁酉},
		{95, 戊戌},
		{96, 己亥},
		{97, 庚子},
		{98, 辛丑},
		{99, 壬寅},
		{100, 癸卯},
		{101, 甲辰},
		{102, 乙巳},
		{103, 丙午},
		{104, 丁未},
		{105, 戊申},
		{106, 己酉},
		{107, 庚戌},
		{108, 辛亥},
		{109, 壬子},
		{110, 癸丑},
		{111, 甲寅},
		{112, 乙卯},
		{113, 丙辰},
		{114, 丁巳},
		{115, 戊午},
		{116, 己未},
		{117, 庚申},
		{118, 辛酉},
		{119, 壬戌},
		{120, 癸亥},
	} {
		if !c.expected.Equal(Of(i + 1)) {
			t.Fatalf("Test case %d < Of(%d) failed", i, c.value)
		} else {
			t.Logf("Test case %q < Of(%d) passed", c.expected, c.value)
		}
	}
}
